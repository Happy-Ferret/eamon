{% extends "base.html" %}
{% load staticfiles %}

{% block title %}{% endblock %}

{% block scripts %}
{% endblock %}

{% block heading %}
{% endblock %}

{% block content %}

    <div id="root"></div>

{% endblock %}

{% block endscripts %}
  {% with adventure_root="adventures/" %}
    <script src="{% static "node_modules/lz-string/libs/lz-string.js" %}"></script>

    <script type="text/javascript" src="{% static adventure_root|add:slug|add:".js" %}"></script>

    <script type="text/javascript">
      var game = window['adventures/{{ slug }}'];
      game.slug = "{{ slug }}";
      {% if request.GET.demo %}
        game.demo = true;
      {% else %}
        game.demo = false;
      {% endif %}
    </script>

    <script type="text/javascript" src="{% static "core.js" %}"></script>
  {% endwith %}
{% endblock %}

